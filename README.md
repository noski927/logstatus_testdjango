# Тестовое задание Django
## Мотивация

Есть задачи, которые пользователь запускает на сервере через веб-интерфейс, но продолжительность их выполнения превышает timeout браузера, который как правило составляет несколько минут. Примером такой задачи может быть формирование многостраничного pdf отчета. Необходимо реализовать решение, чтобы такие бэкэнд процессы не "умирали" по таймауту браузера, а вместо этого продолжали работать и пользователь получал логи о статусе выполнения процесса.

## Предлагаемое решение

Для работы таких продолжительных задач и отслеживания их статуса полезно создать веб страничку, которая с некоторой периодичностью опрашивает сервер о логах выполнения задачи и выводит их на веб страничке. После заверешния процесса на стороне сервера, пользователя перенаправляют на страничку с сообщением о том, что процесс успешно завершен.

## Тестовое задание

* необходимо создать веб страничку с формой, состоящей из одного поля и кнопки "Старт". В поле указывает количество секунд, которое будет "работать" задача на стороне сервера. В эту форму необходимо ввести число.
* При нажатии на кнопку "Старт" на бэкэнде запускается функция long_process (см. пример ниже), а пользователь перенаправляется на страницу, где будет выводиться логи от данной функции. Логи должны регулярно обновляются (например каждые 2-3 секунды).

```
import timedef long_process(num_seconds: int):
   for i in range(num_seconds):
      print(f"Running for {i} seconds...")
    	time.sleep(1)
```

* После завершения функции  `long_process` на бэкэнде пользователь вновь перенаправляется на страничку с исходной формой, где в заголовке будет написано, что запущенная задача успешно завершена, а ниже будет поле для количества секунд и кнопка Старт.
* Бонус -- на страничке, где отслеживается статус выполнения задачи на сервере, выводить не только логи, но и еще графический progress bar, чтобы пользователь имел представление о том, сколько осталось до конца выполнения задачи.

## Ожидаемый результат

Проект на Джанго (версия 5.1, python версия 3.11), код которого доступен на **https://github.com/.** Зависимости этого проекта для conda/mamba указаны в файле **env.yml**, который находится в корне репозитория и будет использован для создания виртуального окружения (название окружения **test-task-django**). После клонирования репозитория достаточно выполнить следующие команды, чтобы запустилось рабочее решение, которое можно протестировать в браузере:

# Установка

1. создание виртуального окружения с помощью conda (или venv)

   ```
   conda env create -f dev.yml
   conda activate test-task-django
   ```
2. Создание тестовой базы данных

   `python manage migrate`
3. Запуск сервера django

   `python manage runserver`
